---
title: NuGet cross platform, wtyczki uwierzytelniania
description: NuGet cross platform, wtyczki uwierzytelniania NuGet.exe, dotnet.exe, msbuild.exe i programu Visual Studio
author: nkolev92
ms.author: nikolev
ms.date: 07/01/2018
ms.topic: conceptual
ms.openlocfilehash: b76fab1028ec9a4172d2390083fbf9adb4290a6c
ms.sourcegitcommit: 0c5a49ec6e0254a4e7a9d8bca7daeefb853c433a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/28/2018
ms.locfileid: "52453510"
---
# <a name="nuget-cross-platform-authentication-plugin"></a><span data-ttu-id="1c9c4-103">NuGet cross platform, wtyczki uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="1c9c4-103">NuGet cross platform authentication plugin</span></span>

<span data-ttu-id="1c9c4-104">W wersji + NuGet wszystkich klientów (NuGet.exe, Visual Studio, dotnet.exe i MSBuild.exe) można użyć wtyczki uwierzytelniania skompilowane na 4.8 [NuGet cross platform wtyczek](NuGet-Cross-Platform-Plugins.md) modelu.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-104">In version 4.8+, all NuGet clients (NuGet.exe, Visual Studio, dotnet.exe and MSBuild.exe) can use an authentication plugin built on top of the [NuGet cross platform plugins](NuGet-Cross-Platform-Plugins.md) model.</span></span>

## <a name="authentication-in-dotnetexe"></a><span data-ttu-id="1c9c4-105">Uwierzytelnianie w dotnet.exe</span><span class="sxs-lookup"><span data-stu-id="1c9c4-105">Authentication in dotnet.exe</span></span>

<span data-ttu-id="1c9c4-106">Program Visual Studio i NuGet.exe są domyślnie interaktywne.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-106">Visual Studio and NuGet.exe are by default interactive.</span></span> <span data-ttu-id="1c9c4-107">NuGet.exe zawiera przełącznik, aby stał się [nieinterakcyjny](../../tools/nuget-exe-CLI-Reference.md).</span><span class="sxs-lookup"><span data-stu-id="1c9c4-107">NuGet.exe contains a switch to make it [non interactive](../../tools/nuget-exe-CLI-Reference.md).</span></span>
<span data-ttu-id="1c9c4-108">Ponadto wtyczek NuGet.exe i programu Visual Studio monit o wprowadzenie danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-108">Additionally the NuGet.exe and Visual Studio plugins prompt the user for input.</span></span>
<span data-ttu-id="1c9c4-109">W dotnet.exe istnieje nie monitowania użytkownika, a wartość domyślna to nieinterakcyjny.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-109">In dotnet.exe there is no prompting and the default is non interactive.</span></span>

<span data-ttu-id="1c9c4-110">Mechanizm uwierzytelniania w dotnet.exe jest przepływ urządzenia.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-110">The authentication mechanism in dotnet.exe is device flow.</span></span> <span data-ttu-id="1c9c4-111">Podczas przywracania lub dodać pakiet uruchomienia operacji interaktywnie bloków operacji i instrukcje dla użytkownika, jak na zakończenie uwierzytelnieniami będzie świadczona w wierszu polecenia.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-111">When the restore or add package operation is run interactively, the operation blocks and instructions to the user how to complete the authentications will be provided on the command line.</span></span>
<span data-ttu-id="1c9c4-112">Operacja będzie kontynuowana, gdy użytkownik zakończy uwierzytelnianie.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-112">When the user completes the authentication the operation will continue.</span></span>

<span data-ttu-id="1c9c4-113">Operacja interaktywne, jeden powinien polega na przekazaniu `--interactive`.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-113">To make the operation interactive, one should pass `--interactive`.</span></span>
<span data-ttu-id="1c9c4-114">Obecnie tylko jawne `dotnet restore` i `dotnet add package` polecenia obsługuje interakcyjne przełącznika.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-114">Currently only the explicit `dotnet restore` and `dotnet add package` commands support an interactive switch.</span></span>
<span data-ttu-id="1c9c4-115">Brak Brak przełącznika interaktywne na `dotnet build` i `dotnet publish`.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-115">There is no interactive switch on `dotnet build` and `dotnet publish`.</span></span>

## <a name="authentication-in-msbuild"></a><span data-ttu-id="1c9c4-116">Uwierzytelnianie w programie MSBuild</span><span class="sxs-lookup"><span data-stu-id="1c9c4-116">Authentication in MSBuild</span></span>

<span data-ttu-id="1c9c4-117">Podobnie jak dotnet.exe MSBuild.exe jest domyślnie nie jest mechanizm uwierzytelniania MSBuild.exe interaktywne, przepływ urządzenia.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-117">Similar to dotnet.exe, MSBuild.exe is by default non interactive the MSBuild.exe authentication mechanism is device flow.</span></span>
<span data-ttu-id="1c9c4-118">Aby umożliwić Przywracanie wstrzymać i poczekaj na potrzeby uwierzytelniania, wywołania do przywracania `msbuild -t:restore -p:NuGetInteractive="true"`.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-118">To allow the restore to pause and wait for authentication, call restore with `msbuild -t:restore -p:NuGetInteractive="true"`.</span></span>

## <a name="creating-a-cross-platform-authentication-plugin"></a><span data-ttu-id="1c9c4-119">Tworzenie wtyczki uwierzytelniania dla wielu platform</span><span class="sxs-lookup"><span data-stu-id="1c9c4-119">Creating a cross platform authentication plugin</span></span>

<span data-ttu-id="1c9c4-120">Przykładową implementację można znaleźć w [dodatek dostawcy poświadczeń programu Microsoft](https://github.com/Microsoft/artifacts-credprovider).</span><span class="sxs-lookup"><span data-stu-id="1c9c4-120">A sample implementation can be found in [Microsoft Credential Provider plugin](https://github.com/Microsoft/artifacts-credprovider).</span></span>

<span data-ttu-id="1c9c4-121">Jest to bardzo ważne jest, że wtyczki spełnia wymagania dotyczące zabezpieczeń Harbor ustalonych przez narzędzia klienta programu NuGet.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-121">It's very important that the plugins conforms to the security requirements set forth by the NuGet client tools.</span></span>
<span data-ttu-id="1c9c4-122">Minimalna wymagana wersja dla wtyczki do wtyczki uwierzytelniania jest *2.0.0*.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-122">The minimum required version for a plugin to be an authentication plugin is *2.0.0*.</span></span>
<span data-ttu-id="1c9c4-123">NuGet wykona uzgadnianie za pomocą wtyczki i zapytania dla oświadczeń obsługiwaną operacją.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-123">NuGet will perform the handshake with the plugin and query for the supported operation claims.</span></span>
<span data-ttu-id="1c9c4-124">Można znaleźć pakietu NuGet cross platform wtyczki [protokołu komunikatów](NuGet-Cross-Platform-Plugins.md#protocol-messages-index) więcej szczegółowych informacji dotyczących określonych wiadomości.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-124">Please refer to the NuGet cross platform plugin [protocol messages](NuGet-Cross-Platform-Plugins.md#protocol-messages-index) for more details about the specific messages.</span></span>

<span data-ttu-id="1c9c4-125">NuGet zostanie ustawiony poziom dziennika i podaj informacje o serwerze proxy, aby dodatek, jeśli ma to zastosowanie.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-125">NuGet will set the log level and provide proxy information to the plugin when applicable.</span></span>
<span data-ttu-id="1c9c4-126">Rejestrowanie pakietu NuGet konsoli jest dozwolone tylko wtedy po NuGet został ustawiony poziom dziennika do wtyczki.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-126">Logging to the NuGet console is only acceptable after NuGet has set the log level to the plugin.</span></span>

- <span data-ttu-id="1c9c4-127">Zachowanie uwierzytelniania wtyczka .NET framework</span><span class="sxs-lookup"><span data-stu-id="1c9c4-127">.NET Framework plugin authentication behavior</span></span>

<span data-ttu-id="1c9c4-128">W programie .NET Framework wtyczki mogą monitować użytkownika o dane wejściowe w postaci okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-128">In .NET Framework, the plugins are allowed to prompt a user for input, in the form of a dialog.</span></span>

- <span data-ttu-id="1c9c4-129">Zachowanie uwierzytelniania wtyczkę dla platformy .NET core</span><span class="sxs-lookup"><span data-stu-id="1c9c4-129">.NET Core plugin authentication behavior</span></span>

<span data-ttu-id="1c9c4-130">Okno dialogowe nie można wyświetlić w programie .NET Core.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-130">In .NET Core, a dialog cannot be shown.</span></span> <span data-ttu-id="1c9c4-131">Wtyczki należy używać przepływu urządzenie do uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-131">The plugins should use device flow to authenticate.</span></span>
<span data-ttu-id="1c9c4-132">Wtyczka może wysyłać komunikaty dziennika do NuGet za pomocą instrukcji dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-132">The plugin can send log messages to NuGet with instructions to the user.</span></span>
<span data-ttu-id="1c9c4-133">Należy pamiętać, że rejestrowanie dostępne po ustawieniu poziomu dziennika do wtyczki.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-133">Note that logging is available after the log level has been set to the plugin.</span></span>
<span data-ttu-id="1c9c4-134">NuGet nie podejmie żadnych interaktywne dane wejściowe z wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-134">NuGet will not take any interactive input from the command line.</span></span>

<span data-ttu-id="1c9c4-135">Gdy klient wywołuje wtyczkę przy użyciu poświadczeń uwierzytelniania Pobierz, wtyczki konieczne są zgodne z przełącznikiem interakcyjność i przestrzegać przełącznika okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-135">When the client calls the plugin with a Get Authentication Credentials, the plugins need to conform to the interactivity switch and respect the dialog switch.</span></span> 

<span data-ttu-id="1c9c4-136">W poniższej tabeli przedstawiono, jak wtyczki powinny zachowywać się dla wszystkich kombinacji.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-136">The following table summarizes how the plugin should behave for all combinations.</span></span>

| <span data-ttu-id="1c9c4-137">IsNonInteractive</span><span class="sxs-lookup"><span data-stu-id="1c9c4-137">IsNonInteractive</span></span> | <span data-ttu-id="1c9c4-138">CanShowDialog</span><span class="sxs-lookup"><span data-stu-id="1c9c4-138">CanShowDialog</span></span> | <span data-ttu-id="1c9c4-139">Zachowanie wtyczki</span><span class="sxs-lookup"><span data-stu-id="1c9c4-139">Plugin behavior</span></span> |
| ---------------- | ------------- | --------------- |
| <span data-ttu-id="1c9c4-140">true</span><span class="sxs-lookup"><span data-stu-id="1c9c4-140">true</span></span> | <span data-ttu-id="1c9c4-141">true</span><span class="sxs-lookup"><span data-stu-id="1c9c4-141">true</span></span> | <span data-ttu-id="1c9c4-142">Przełącznik IsNonInteractive mają pierwszeństwo przed przełącznika okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-142">The IsNonInteractive switch takes precedence over the dialog switch.</span></span> <span data-ttu-id="1c9c4-143">Wtyczka jest niedozwolone pop okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-143">The plugin is not allowed to pop a dialog.</span></span> <span data-ttu-id="1c9c4-144">Ta kombinacja jest prawidłowy tylko dla wtyczek platformy .NET Framework</span><span class="sxs-lookup"><span data-stu-id="1c9c4-144">This combination is only valid for .NET Framework plugins</span></span> |
| <span data-ttu-id="1c9c4-145">true</span><span class="sxs-lookup"><span data-stu-id="1c9c4-145">true</span></span> | <span data-ttu-id="1c9c4-146">false</span><span class="sxs-lookup"><span data-stu-id="1c9c4-146">false</span></span> | <span data-ttu-id="1c9c4-147">Przełącznik IsNonInteractive mają pierwszeństwo przed przełącznika okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-147">The IsNonInteractive switch takes precedence over the dialog switch.</span></span> <span data-ttu-id="1c9c4-148">Wtyczka nie może zablokować.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-148">The plugin is not allowed to block.</span></span> <span data-ttu-id="1c9c4-149">Ta kombinacja jest prawidłowy tylko dla wtyczek platformy .NET Core</span><span class="sxs-lookup"><span data-stu-id="1c9c4-149">This combination is only valid for .NET Core plugins</span></span> |
| <span data-ttu-id="1c9c4-150">false</span><span class="sxs-lookup"><span data-stu-id="1c9c4-150">false</span></span> | <span data-ttu-id="1c9c4-151">true</span><span class="sxs-lookup"><span data-stu-id="1c9c4-151">true</span></span> | <span data-ttu-id="1c9c4-152">Wtyczka powinny być wyświetlane okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-152">The plugin should show a dialog.</span></span> <span data-ttu-id="1c9c4-153">Ta kombinacja jest prawidłowy tylko dla wtyczek platformy .NET Framework</span><span class="sxs-lookup"><span data-stu-id="1c9c4-153">This combination is only valid for .NET Framework plugins</span></span> |
| <span data-ttu-id="1c9c4-154">false</span><span class="sxs-lookup"><span data-stu-id="1c9c4-154">false</span></span> | <span data-ttu-id="1c9c4-155">false</span><span class="sxs-lookup"><span data-stu-id="1c9c4-155">false</span></span> | <span data-ttu-id="1c9c4-156">Wtyczka powinna może są wyświetlane okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-156">The plugin should/can not show a dialog.</span></span> <span data-ttu-id="1c9c4-157">Wtyczkę należy używać przepływu urządzenie do uwierzytelniania przez rejestrowanie komunikatów instrukcji za pomocą rejestratora.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-157">The plugin should use device flow to authenticate by logging an instruction message via the logger.</span></span> <span data-ttu-id="1c9c4-158">Ta kombinacja jest prawidłowy tylko dla wtyczek platformy .NET Core</span><span class="sxs-lookup"><span data-stu-id="1c9c4-158">This combination is only valid for .NET Core plugins</span></span> |

<span data-ttu-id="1c9c4-159">Zapoznaj się następujące dane techniczne przed napisaniem wtyczkę.</span><span class="sxs-lookup"><span data-stu-id="1c9c4-159">Please refer to the following specs before writing a plugin.</span></span>

- [<span data-ttu-id="1c9c4-160">Wtyczka pobierania pakietu NuGet</span><span class="sxs-lookup"><span data-stu-id="1c9c4-160">NuGet Package Download Plugin</span></span>](https://github.com/NuGet/Home/wiki/NuGet-Package-Download-Plugin)
- [<span data-ttu-id="1c9c4-161">NuGet krzyżowe wtyczki uwierzytelniania plat</span><span class="sxs-lookup"><span data-stu-id="1c9c4-161">NuGet cross plat authentication plugin</span></span>](https://github.com/NuGet/Home/wiki/NuGet-cross-plat-authentication-plugin)
